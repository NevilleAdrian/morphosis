{"ast":null,"code":"var _jsxFileName = \"/Users/USER/AndroidStudioProjects/robot-market/frontend/src/components/body/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./index.css\";\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport NavBar from '../navbar';\nimport { useSelector } from 'react-redux';\nimport { formattedCurrency } from '../../utils'; // //initialized Apollo client\n// const client = new ApolloClient({\n//     uri: 'https://pangaea-interviews.now.sh/api/graphql',\n//     cache: new InMemoryCache()\n// });\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Body() {\n  _s();\n\n  //Get Currency from Redux Store\n  const curr = useSelector(state => state.currency); //Retrieve products from Robot api\n\n  const getProducts = () => axios.get('http://localhost:8000/api/robots').then(products => {\n    setProducts(products.data);\n  }).catch(err => console.log(err));\n\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    getProducts(curr);\n  }, [curr]);\n  console.log('dataaa', products);\n  const [cartItems, setCartItems] = useState([]);\n\n  const changeShow = item => {\n    increment(item);\n    displayNav(true);\n  };\n\n  useEffect(() => {\n    console.log('array', cartItems);\n  }, [cartItems]); //Check if cart item to be this ID\n\n  const isInCart = id => {\n    return cartItems.map(a => a.id).includes(id);\n  }; // Add count property to product\n\n\n  const addCountToProduct = product => {\n    return { ...product,\n      count: cartItems.find(a => a.id === product.id).count\n    };\n  }; //Increment individual cart item\n\n\n  const increment = id => {\n    if (!isInCart(id)) {\n      setCartItems([...cartItems, {\n        id,\n        count: 1\n      }]);\n    } else {\n      setCartItems(cartItems.map(a => a.id === id ? { ...a,\n        count: a.count + 1\n      } : a));\n    }\n  }; //remove item from product\n\n\n  const removeItem = id => {\n    setCartItems(cartItems.filter(a => a.id !== id));\n  }; //Decrement individual Cart Item\n\n\n  const decrement = id => {\n    if (isInCart(id)) {\n      const cartItem = cartItems.find(item => item.id === id);\n\n      if (cartItem.count === 1) {\n        removeItem(id);\n      } else {\n        setCartItems(cartItems.map(a => a.id === id ? { ...a,\n          count: a.count - 1\n        } : a));\n      }\n    }\n  };\n\n  const [showNav, setShowNav] = useState(false); //Display sidebar\n\n  const displayNav = shouldShow => {\n    if (shouldShow) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"auto\";\n    }\n\n    setShowNav(shouldShow);\n    console.log(showNav);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      remove: removeItem,\n      showNav: showNav,\n      displayNav: displayNav,\n      increment: increment,\n      decrement: decrement,\n      number: cartItems.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"main-weight\",\n            children: \"All Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"weight-100\",\n            children: \"A 360\\xB0 look at Lumin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grey-bg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid py-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: products.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-lg-4 col-sm-6 margin-bottom\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"product-img\",\n                className: \"img-fluid img-height\",\n                src: item.image_url\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center title\",\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"From\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 60\n              }, this), \" \", formattedCurrency(item.price, curr)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => changeShow(item.id),\n                className: \"button-primary \",\n                children: \"Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 33\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Body, \"at2yalBtMjL6MvfdO5IiC66jnT4=\", false, function () {\n  return [useSelector];\n});\n\n_c = Body;\n\nvar _c;\n\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"sources":["/Users/USER/AndroidStudioProjects/robot-market/frontend/src/components/body/index.js"],"names":["React","axios","useEffect","useState","NavBar","useSelector","formattedCurrency","Body","curr","state","currency","getProducts","get","then","products","setProducts","data","catch","err","console","log","cartItems","setCartItems","changeShow","item","increment","displayNav","isInCart","id","map","a","includes","addCountToProduct","product","count","find","removeItem","filter","decrement","cartItem","showNav","setShowNav","shouldShow","document","body","style","overflow","length","image_url","title","price"],"mappings":"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","sourcesContent":["import React from 'react'\nimport \"./index.css\"\nimport axios from 'axios'\nimport { useEffect, useState } from 'react';\nimport NavBar from '../navbar';\nimport { useSelector } from 'react-redux'\nimport { formattedCurrency } from '../../utils';\n\n// //initialized Apollo client\n// const client = new ApolloClient({\n//     uri: 'https://pangaea-interviews.now.sh/api/graphql',\n//     cache: new InMemoryCache()\n// });\n\nexport default function Body() {\n\n    //Get Currency from Redux Store\n    const curr = useSelector(state => state.currency);\n\n\n    //Retrieve products from Robot api\n    const getProducts = () =>\n        axios.get('http://localhost:8000/api/robots')\n            .then(products => {\n                setProducts(products.data)\n            }).catch(err => console.log(err))\n\n\n    const [products, setProducts] = useState([])\n\n    useEffect(() => {\n        getProducts(curr)\n    }, [curr])\n    console.log('dataaa', products)\n\n    const [cartItems, setCartItems] = useState([])\n\n\n    const changeShow = (item) => {\n        increment(item)\n        displayNav(true)\n    }\n\n    useEffect(() => {\n        console.log('array', cartItems)\n    }, [cartItems])\n\n\n    //Check if cart item to be this ID\n    const isInCart = (id) => {\n        return cartItems.map(a => a.id).includes(id)\n    }\n\n\n    // Add count property to product\n    const addCountToProduct = (product) => {\n        return { ...product, count: cartItems.find(a => a.id === product.id).count }\n    }\n\n\n    //Increment individual cart item\n    const increment = (id) => {\n        if (!isInCart(id)) {\n            setCartItems([...cartItems, { id, count: 1 }])\n        }\n        else {\n            setCartItems(cartItems.map(a => a.id === id ? { ...a, count: a.count + 1 } : a))\n        }\n    }\n\n    //remove item from product\n    const removeItem = (id) => {\n        setCartItems(cartItems.filter(a => a.id !== id))\n    }\n\n    //Decrement individual Cart Item\n    const decrement = (id) => {\n        if (isInCart(id)) {\n            const cartItem = cartItems.find(item => item.id === id)\n            if (cartItem.count === 1) {\n                removeItem(id)\n            }\n            else {\n                setCartItems(cartItems.map(a => a.id === id ? { ...a, count: a.count - 1 } : a))\n            }\n        }\n\n    }\n\n    const [showNav, setShowNav] = useState(false)\n\n\n    //Display sidebar\n    const displayNav = (shouldShow) => {\n        if (shouldShow) {\n            document.body.style.overflow = \"hidden\";\n        }\n        else {\n            document.body.style.overflow = \"auto\";\n        }\n        setShowNav(shouldShow)\n        console.log(showNav)\n    }\n\n\n\n\n\n\n    return (\n\n        <>\n            <NavBar remove={removeItem} showNav={showNav} displayNav={displayNav} increment={increment} decrement={decrement} number={cartItems.length}  />\n            <div className=\"container py-5\">\n                <div className=\"row\">\n                    <div className=\"col-md-6\">\n                        <h1 className=\"main-weight\">All Products</h1>\n                        <p className=\"weight-100\">A 360° look at Lumin</p>\n                    </div>\n                </div>\n            </div>\n            <div className=\"grey-bg\">\n                <div className=\"container-fluid py-5\">\n                    <div className=\"row\">\n                        {products.map((item) => (\n                            <div key={item.id} className=\"col-md-6 col-lg-4 col-sm-6 margin-bottom\">\n                                <div className=\"text-center\">\n                                    <img alt=\"product-img\" className=\"img-fluid img-height\" src={item.image_url} />\n                                </div>\n\n                                <p className=\"text-center title\">{item.title}</p>\n                                <p className=\"text-center\"><span>From</span> {formattedCurrency(item.price, curr)}</p>\n                                <div className=\"text-center\">\n                                    <button onClick={() => changeShow(item.id)} className=\"button-primary \">Add to Cart</button>\n                                </div>\n                            </div>\n                        ))}\n\n                    </div>\n                </div>\n            </div>\n\n\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}